import{h as k,j as e,L,u as N,i as v,r as c,S as w}from"./index-CxhnL_yD.js";import{g as F}from"./apiBooks-BgPxOzWy.js";import{a as E}from"./index-RhR9qCDk.js";import{E as B}from"./ErrorFallback-BvHCA0Dg.js";import{G as S}from"./iconBase-fCoKCrix.js";import{a as C}from"./index-075kW4IK.js";import"./index-BXsKJbct.js";function _(){const{isLoading:r,data:a,error:s}=k({queryKey:["booksLabels"],queryFn:F});return{isLoading:r,booksLabels:a,error:s}}function O({book:r}){const{id:a,book_name:s,image_front:l,type:o,price:n}=r;return e.jsx(e.Fragment,{children:e.jsxs("li",{className:"flex flex-col items-center justify-center gap-[1rem] rounded-2xl bg-white px-[1.6rem] py-[3.6rem] shadow-[0px_3px_8px_rgba(0,0,0,0.24)]",children:[e.jsx("img",{src:l,className:"h-[19rem] w-[14rem] rounded-xl shadow-md shadow-gray-400",alt:"book_image"}),e.jsx("h1",{className:"mt-4 text-center text-xl font-semibold text-gray-900",children:s}),e.jsx("p",{className:"rounded-lg px-4 py-2 text-[1rem] font-[450] text-gray-600",children:o}),e.jsxs("h3",{className:"rounded-md bg-[#FFEEE6] px-6 py-1 text-lg font-[550] text-[#ff5500] shadow-inner",children:["â‚¹",n]}),e.jsxs(L,{to:`${a}`,className:"flex items-center justify-center gap-3 rounded-full bg-[#ff5500] px-16 py-3 text-[1.3rem] font-semibold text-white transition-all hover:bg-[#E64D00] active:bg-[#E64D00]",children:[e.jsx(E,{size:30,className:"text-white"}),"Add To Cart"]})]})})}function P(r){return S({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(r)}function H(){const{sectionEl:r,handleOutsideClick:a}=N(),[s,l]=v(),[o,n]=c.useState(""),[m,u]=c.useState(""),h=function(t){n(t)},p=s.get("filter");c.useEffect(function(){o!==""&&s.set("filter",o),l(s)},[s,l,o]);const g=[{value:"all",Label:"All"},{value:"self-help",Label:"Self-Help"},{value:"fiction",Label:"Fiction"},{value:"non-fiction",Label:"Non-Fiction"}];function b(t){u(t)}const{isLoading:j,booksLabels:d,error:x}=_(),f=d?.filter(t=>t.type.toLowerCase()===p),y=(f?.length===0?d:f)?.filter(t=>{const i=Number(m.length);return t.book_name.toLowerCase().slice(0,i)===m.toLowerCase()});return j?e.jsx(w,{}):x?e.jsx(B,{error:x.message}):e.jsxs("section",{className:"flex flex-col items-center justify-center gap-12 overflow-hidden px-[6.4rem] pb-[6.4rem] pt-[3.6rem]",ref:r,onClick:a,children:[e.jsxs("div",{className:"flex w-full items-center justify-between gap-6",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("label",{htmlFor:"searchBooks",className:"flex gap-2 text-lg font-semibold text-gray-900",children:[e.jsx(C,{size:30}),"Explore Books :"]}),e.jsxs("div",{className:"relative transition-all",children:[e.jsx("input",{type:"text",id:"searchBooks",name:"searchBooks",onChange:t=>b(t.target.value),className:"h-[3rem] w-[25rem] rounded-full border-2 border-[#ff5500] py-2 pl-[4rem] pr-4 text-gray-950 outline-none focus:bg-[#FFEEE6]"}),e.jsx("div",{className:"absolute left-0 top-0 h-[3rem] items-center justify-center rounded-l-full bg-[#ff5500] px-4 py-[0.9rem] text-white",children:e.jsx(P,{size:20})})]})]})}),e.jsx("div",{className:"flex gap-4 rounded-xl border-2 border-[#FF9966] bg-[#FFEEE6] px-4 py-2 text-lg font-medium",children:g.map((t,i)=>e.jsx("button",{className:`rounded-xl px-4 py-2 ${t.value===o?"bg-[#ff5500] text-white":""} ${o===""&&t.value==="all"?"bg-[#ff5500] text-white":""}`,onClick:()=>h(t.value),children:t.Label},i))})]}),e.jsx("ul",{className:"grid grid-cols-3 items-center justify-center gap-[8rem]",children:y.map(t=>e.jsx(O,{book:t},t.id))})]})}export{H as default};
