import{c as d,u as x,j as e,S as m,L as p}from"./index-CxhnL_yD.js";import{E as f}from"./ErrorFallback-BvHCA0Dg.js";import{f as g,a as j}from"./helper-C0OnlIbI.js";import{E as h}from"./EmptyOrder-llJxYOQS.js";import{u}from"./useOrder-fdq87pKu.js";import{P as N}from"./index-075kW4IK.js";import"./index-BXsKJbct.js";import"./iconBase-fCoKCrix.js";import"./index-CKYSIgSX.js";import"./apiOrder-D3EiarbZ.js";function S(){const{orderDetails:a,isLoading:l,error:i}=u(),{user:o}=d(),{handleOutsideClick:n}=x(),r=a?.map(s=>s)?.filter(s=>s?.user_id===o?.id)?.slice().sort((s,t)=>t.id-s.id);return console.log(r),l?e.jsx(m,{}):i?e.jsx(f,{}):e.jsx("section",{className:"overflow-hidden px-[6.4rem] pb-[6.4rem] pt-[2rem]",onClick:n,children:r.length===0?e.jsx(h,{}):e.jsxs("div",{className:"flex w-full flex-col items-start justify-center gap-12",children:[e.jsxs("h1",{className:"flex items-center justify-center gap-2 text-2xl font-semibold text-[#ff5500]",children:[e.jsx(N,{size:40}),"Your orders are here"]}),r?.map(s=>e.jsxs("div",{className:"grid grid-cols-2 items-center justify-center gap-6 rounded-lg px-4 py-4 shadow-[0px_3px_8px_rgba(0,0,0,0.24)]",children:[e.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-4 rounded-lg bg-gray-100 px-4 py-4",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["Order ID:"," ",e.jsxs("span",{className:"font-normal",children:["ORD-DEN",s?.id]})]}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["Date Ordered:"," ",e.jsx("span",{className:"font-normal",children:g(s?.created_at)})]}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["Delivery Date:"," ",e.jsx("span",{className:"font-normal",children:j(s?.created_at)})]}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["Delivery Status:"," ",e.jsxs("span",{className:"font-normal",children:["Your Order is ",`${s?.delivered?.toLowerCase()==="no"?"on the way":"delivered"}`]})]}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["Total Bill:"," ",e.jsx("span",{className:"font-normal",children:s?.total_bill})]}),e.jsx(p,{to:`${s?.id}`,className:"rounded-full bg-[#ff5500] px-8 py-2 text-lg font-bold text-white hover:bg-[#E64D00] active:bg-[#E64D00]",children:"View bill Receipt"})]}),e.jsx("div",{className:"flex flex-col items-center justify-center",children:s?.ordered_books?.orderedBooks?.map((t,c)=>e.jsxs("div",{className:"flex w-[40rem] items-center gap-8 px-4 py-4",children:[e.jsx("div",{children:e.jsx("img",{className:"h-[6rem] w-[4rem] rounded-md",src:t?.books?.image_front,alt:"books_image"})}),e.jsxs("div",{className:"flex flex-col items-start justify-start gap-4 text-lg text-gray-900",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("p",{children:t?.books?.book_name}),e.jsx("p",{children:"×"}),e.jsx("p",{children:t?.quantity})]}),e.jsxs("p",{className:"flex gap-2 text-base font-bold text-gray-900",children:["Per book price:",e.jsx("span",{className:"font-normal",children:t?.per_book_price})]}),e.jsxs("p",{className:"flex gap-2 text-base font-bold text-gray-900",children:["Subtotal:",e.jsx("span",{className:"font-normal",children:t?.total_book_price})]})]})]},c))})]},s?.id))]})})}export{S as default};
