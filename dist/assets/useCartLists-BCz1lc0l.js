import{y as a,h as c}from"./index-CxhnL_yD.js";const d=async function({quantity:t,book_id:r,user_id:o,price:e}){const{data:n,error:i}=await a.from("cart").insert([{quantity:t,book_id:r,user_id:o,total_book_price:e,per_book_price:e}]).select();if(i)throw new Error("Could not to be add in cart");return n},s=async function(){let{data:t,error:r}=await a.from("cart").select(`
    id, quantity, user_id, total_book_price, per_book_price, 
    books (id, book_name, type, price, image_front, book_type)
  `);if(r)throw new Error("Could not to be load cart");return t},p=async function(t){const{error:r}=await a.from("cart").delete().eq("id",t);if(r)throw new Error},f=async function({id:t,quantity:r,price:o}){const{data:e,error:n}=await a.from("cart").update({quantity:r,total_book_price:o}).eq("id",t).select();if(n)throw new Error("Could not to be update cart quantity and price");return e};function _(){const{data:t,isPending:r,error:o}=c({queryKey:["carts"],queryFn:s});return{cartList:t,isLoading:r,error:o}}export{_ as a,p as d,d as i,f as u};
