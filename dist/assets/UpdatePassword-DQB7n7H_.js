import{k as N,v,z as y,r as b,a as S,e as c,j as s,q as F,t as E}from"./index-CxhnL_yD.js";import{u as L}from"./index.esm-BA-d1bXk.js";import{F as l,a as m}from"./index-CSx6wYZJ.js";import{u as T,S as U}from"./SpinnerMini-TSTRqYFy.js";import{u as z}from"./useLogout-sbLkxrC5.js";import{r as q,F as u}from"./login-signup-image-C476cLrk.js";import"./iconBase-fCoKCrix.js";function C(){const{logout:a}=z(),i=N(),{mutate:r,isPending:t,error:o}=T({mutationFn:v,onSettled:()=>{a()},onSuccess:()=>{y.success("Successfully updated your account passowrd"),i("/login")}});return{updatePassword:r,isLoading:t,error:o}}function D(){const[a,i]=b.useState(),r=S(),t=c(e=>e.user.signUppasswordViewBtn),o=c(e=>e.user.confirmPasswordBtn),{register:d,handleSubmit:p,getValues:x}=L(),{updatePassword:f,isLoading:n}=C();function w(e){e.preventDefault(),r(F())}function h(e){e.preventDefault(),r(E())}function g(e){const{password:P}=e;f({newPassword:P})}function j(e){i(e)}return s.jsxs("div",{className:"grid grid-cols-2 items-center justify-center gap-8 px-4",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("img",{src:q,className:"h-[33rem] w-[33rem]",alt:"login image"})}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("form",{className:"formLayout gap-8",onSubmit:p(g,j),children:[s.jsx("h1",{className:"formTitle",children:"Update Password"}),s.jsxs("div",{className:"flex flex-col gap-4 px-4",children:[s.jsx("label",{htmlFor:"password",className:"formLabel",children:"new Password (min 8 characters)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:`${t?"password":"text"}`,name:"password",id:"password",className:"formInputBox",...d("password",{required:"This field is required",minLength:{value:8,message:"Password should be at least 8 characters"}}),disabled:n}),s.jsx("button",{className:"absolute right-[1rem] top-[7px]",onClick:w,children:t?s.jsx(l,{size:24,className:"text-gray-800"}):s.jsx(m,{size:24,className:"text-[#ff5500]"})})]}),a?.password?.message&&s.jsx(u,{children:a.password.message})]}),s.jsxs("div",{className:"flex flex-col gap-4 px-4",children:[s.jsx("label",{htmlFor:"password",className:"formLabel",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:`${o?"password":"text"}`,name:"confirmPassword",id:"confirmPassword",className:"formInputBox",...d("confirmPassword",{required:"This field is required",validate:e=>e===x().password||"Passwords do not match"}),disabled:n}),s.jsx("button",{className:"absolute right-[1rem] top-[7px]",onClick:h,children:o?s.jsx(l,{size:24,className:"text-gray-800"}):s.jsx(m,{size:24,className:"text-[#ff5500]"})})]}),a?.confirmPassword?.message&&s.jsx(u,{children:a.confirmPassword.message})]}),s.jsx("div",{className:"flex flex-col items-center justify-center gap-4 px-4",children:s.jsx("button",{className:"w-[22.5rem] rounded-full bg-[#ff5500] px-4 py-2 text-center text-xl font-medium text-white hover:bg-[#E64D00] active:bg-[#E64D00]",children:n?s.jsx(U,{}):"Update Passsword"})})]})})]})}function A(){return s.jsx("section",{className:"overflow-hidden px-[4.8rem] py-[2.4rem]",children:s.jsx(D,{})})}export{A as default};
