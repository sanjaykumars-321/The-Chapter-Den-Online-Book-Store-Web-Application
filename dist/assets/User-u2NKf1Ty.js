import{c as N,r as j,j as e,z as y,u as v}from"./index-CxhnL_yD.js";import{u as w}from"./index.esm-BA-d1bXk.js";import{u as S}from"./useUpdateUser-Did_XRgN.js";import{S as F}from"./SpinnerMini-TSTRqYFy.js";const C="/assets/user-details-image-D5iB_yQX.webp";function q(){const{user:t}=N(),l=t?.user_metadata,u=l?.fullName.slice(0,1),{register:a,handleSubmit:f}=w(),[s,p]=j.useState(null),{updateUser:h,isLoading:r}=S();function g(i){const{phoneNumber:o,doorNoStreet:d,landMark:n,city:c,pinCode:m,state:x}=i;console.log(o,d,n,c,m,x),h({phoneNumber:o,doorNoStreet:d,landMark:n,city:c,pinCode:m,state:x},{onSuccess:()=>{y.success("Your details are successfully updated")}})}function b(i){p(i)}return e.jsxs("div",{className:"grid min-h-screen grid-cols-2 flex-col items-center justify-center gap-14",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex w-full flex-col items-start justify-start",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:"flex h-[3.6rem] w-[3.6rem] items-center justify-center rounded-full bg-[#ff5500] px-4 py-4 text-2xl font-normal text-white",children:e.jsx("span",{children:u?.toUpperCase()})}),e.jsxs("h1",{className:"text-[2rem] font-semibold text-gray-900",children:["Welcome, ",l?.fullName]})]}),e.jsx("h2",{className:"px-[5rem] text-xl font-normal text-gray-900",children:t?.email})]}),e.jsx("img",{src:C})]}),e.jsxs("div",{className:"flex w-[40rem] flex-col items-center justify-center gap-8 rounded-2xl border-2 border-gray-300 px-8 py-[3rem]",children:[e.jsxs("h1",{className:"text-[2rem] font-semibold text-gray-900",children:[" ","Update Your Details"]}),e.jsxs("form",{onSubmit:f(g,b),className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-4 px-4",children:[e.jsx("label",{htmlFor:"phoneNumber",className:"formLabel",children:"Phone Number :"}),e.jsx("input",{type:"text",name:"phoneNumber",id:"phoneNumber",className:"formInputBox bg-slate-100 focus:bg-white",...a("phoneNumber",{required:"This field is required",minLength:{value:10,message:"PhoneNumber invalidate"}}),defaultValue:l?.phoneNumber,disabled:r}),s?.phoneNumber?.message&&e.jsx(FormError,{children:s.phoneNumber.message})]}),e.jsxs("div",{className:"flex flex-col gap-4 px-4",children:[e.jsx("label",{className:"formLabel",children:"Home Address:"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-4 px-4",children:[e.jsx("label",{htmlFor:"doorNoStreet",className:"formLabel",children:"Door No & Street:"}),e.jsx("input",{type:"text",name:"doorNoStreet",id:"doorNoStreet",className:"formInputBox w-full bg-slate-100 focus:bg-white",...a("doorNoStreet",{required:"This field is required"}),defaultValue:l?.doorNoStreet,disabled:r}),s?.doorNoStreet?.message&&e.jsx(FormError,{children:s.doorNoStreet.message})]}),e.jsxs("div",{className:"flex flex-col gap-4 px-4",children:[e.jsx("label",{htmlFor:"landMark",className:"formLabel",children:"Land Mark:"}),e.jsx("input",{type:"text",name:"landMark",id:"landMark",className:"formInputBox w-full bg-slate-100 focus:bg-white",...a("landMark",{required:"This field is required"}),defaultValue:l?.landMark,disabled:r}),s?.landMark?.message&&e.jsx(FormError,{children:s.landMark.message})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-4 px-4",children:[e.jsx("label",{htmlFor:"city",className:"formLabel",children:"City"}),e.jsx("input",{type:"text",name:"city",id:"city",className:"formInputBox w-full bg-slate-100 focus:bg-white",...a("city",{required:"This field is required"}),defaultValue:l?.city,disabled:r}),s?.city?.message&&e.jsx(FormError,{children:s.city.message})]}),e.jsxs("div",{className:"flex flex-col gap-4 px-4",children:[e.jsx("label",{htmlFor:"pinCode",className:"formLabel",children:"Pincode"}),e.jsx("input",{type:"text",name:"pinCode",id:"pinCode",className:"formInputBox w-full bg-slate-100 focus:bg-white",...a("pinCode",{required:"This field is required"}),defaultValue:l?.pinCode,disabled:r}),s?.pinCode?.message&&e.jsx(FormError,{children:s.pinCode.message})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 px-4",children:[e.jsx("label",{htmlFor:"state",className:"formLabel",children:"State"}),e.jsx("input",{type:"text",name:"state",id:"state",className:"formInputBox w-[80%] bg-slate-100 focus:bg-white",...a("state",{required:"This field is required"}),defaultValue:l?.state,disabled:r}),s?.state?.message&&e.jsx(FormError,{children:s.state.message})]})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-4 px-4 transition-all",children:e.jsx("button",{className:"w-[80%] rounded-full bg-[#ff5500] px-4 py-2 text-xl font-medium text-white hover:bg-[#E64D00] active:bg-[#E64D00]",children:r?e.jsx(F,{}):"Save changes"})})]})]})]})}function D(){const{handleOutsideClick:t}=v();return e.jsx("section",{className:"overflow-hidden px-[4.8rem] pb-[5rem] pt-[2rem]",onClick:t,children:e.jsx(q,{})})}export{D as default};
